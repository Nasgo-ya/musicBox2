<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Disco Randomizer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
@keyframes pulse {
    0% { box-shadow: 0 0 10px #00fff0; }
    50% { box-shadow: 0 0 30px #ff00ff; }
    100% { box-shadow: 0 0 10px #00fff0; }
}

body {
    margin: 0;
    min-height: 100vh;
    background: radial-gradient(circle at top, #1a002a, #000);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: Arial, sans-serif;
    color: #fff;
}

/* ---------- —ç–∫—Ä–∞–Ω—ã ---------- */
.screen {
    width: 420px;
    max-width: 100%;
    padding: 30px 20px;
    border-radius: 20px;
    background: rgba(0,0,0,0.65);
    text-align: center;
}

/* ---------- —Å—Ç–∞—Ä—Ç ---------- */
#startScreen h1 {
    color: #ff5cff;
    margin-bottom: 30px;
}

.mode-btn {
    width: 100%;
    max-width: 280px;
    margin: 12px auto;
    padding: 18px 0;
    border-radius: 50px;
    border: none;
    font-size: 20px;
    font-weight: bold;
    cursor: pointer;
    color: #000;
    background: linear-gradient(45deg, #ff00ff, #00fff0);
    animation: pulse 1.5s infinite;
}

/* ---------- –∏–≥—Ä–∞ ---------- */
#gameScreen {
    display: none;
}

h2 {
    color: #ff5cff;
}

.range {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin: 15px 0;
}

.range input {
    width: 80px;
    padding: 10px;
    font-size: 18px;
    border-radius: 10px;
    border: none;
    text-align: center;
}

#result {
    font-size: 72px;
    margin: 20px 0 5px;
    color: #00fff0;
    text-shadow: 0 0 30px #00fff0;
}

.word-wrap {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    min-height: 32px;
}

#word {
    font-size: 24px;
    color: #ff5cff;
}

.copy-btn {
    display: none;
    cursor: pointer;
    color: #00fff0;
}

/* ---------- –∫–Ω–æ–ø–∫–∏ ---------- */
button.main {
    width: 100%;
    max-width: 280px;
    margin: 10px auto 6px;
    padding: 18px 0;
    border-radius: 50px;
    border: none;
    font-size: 20px;
    font-weight: bold;
    cursor: pointer;
    color: #000;
    background: linear-gradient(45deg, #ff00ff, #00fff0);
    animation: pulse 1.5s infinite;
}

button.secondary {
    width: 100%;
    max-width: 280px;
    margin: 0 auto 8px;
    padding: 6px 0;
    background: transparent;
    color: #aaa;
    border: none;
    font-size: 14px;
    cursor: pointer;
}

/* ---------- –∏—Å—Ç–æ—Ä–∏—è ---------- */
.history {
    margin-top: 20px;
    max-height: 78px; /* ~3 —Å—Ç—Ä–æ–∫–∏ */
    overflow-y: auto;
    border-top: 1px solid rgba(255,255,255,0.1);
    padding-top: 10px;

    scrollbar-width: thin;
    scrollbar-color: #00fff0 transparent;
}

.history::-webkit-scrollbar {
    width: 6px;
}
.history::-webkit-scrollbar-thumb {
    background: #00fff0;
    border-radius: 10px;
}

.history span {
    display: inline-block;
    margin: 4px;
    padding: 6px 10px;
    border-radius: 8px;
    background: rgba(0,255,240,0.15);
    color: #00fff0;
}
</style>
</head>

<body>

<!-- —Å—Ç–∞—Ä—Ç -->
<div class="screen" id="startScreen">
    <h1>–í—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º</h1>
    <button class="mode-btn" onclick="startGame('üéâ –í–µ—á–µ—Ä–∏–Ω–∫–∞')">üéâ –í–µ—á–µ—Ä–∏–Ω–∫–∞</button>
    <button class="mode-btn" onclick="startGame('üéÑ –ù–æ–≤—ã–π –≥–æ–¥')">üéÑ –ù–æ–≤—ã–π –≥–æ–¥</button>
    <button class="mode-btn" onclick="startGame('üéÇ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è')">üéÇ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</button>
</div>

<!-- –∏–≥—Ä–∞ -->
<div class="screen" id="gameScreen">
    <h2 id="modeTitle"></h2>

    <div class="range">
        <input id="minInput" type="number" value="1" min="1" max="100">
        <input id="maxInput" type="number" value="100" min="1" max="100">
    </div>

    <div id="result">‚Äî</div>

    <div class="word-wrap">
        <div id="word"></div>
        <div class="copy-btn" id="copyBtn" onclick="copyWord()">üìã</div>
    </div>

    <button class="main" onclick="generate()">DROP THE BEAT</button>
    <button class="secondary" onclick="resetGame()">‚ü≤ –°–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä—É</button>
    <button class="secondary" onclick="backToModes()">‚Üê –ù–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É —Ä–µ–∂–∏–º–∞</button>

    <div class="history" id="history"></div>
</div>

<script>
const words = [
"–†–µ–∫–ª–∞–º–∞","–∞–±—Å–∏–¥—ã","–∞–ª–∞–≤–∏—Ç","–∞—Å–µ–º–∏—è","–∞—Ü–µ—Ç–∏–Ω","–∞—Ü–∏–¥–∏—Ç","–±–∞–π–ª—å–∏","–±–µ–Ω–∑–∏–Ω","–±–µ—Ä–±–µ—Ä","–±–µ—Ä–±–µ—Ç",
"–±–ª–æ—à–∞–∫","–±–æ—è—Ä–∫–∞","–≤–ª–µ—Ä–µ—Ü","–≤—ã–∫–ª–∏–∫","–≤—ã–ø–ª—ã–≤","–≤—ã—Å—Ç–æ–π","–≥–∞–≤–∞–µ—Ü","–≥–∞–º–∏—Ç—ã","–≥–µ–æ—Ñ–∏—Ç","–≥–µ—Ä–¥–∞–Ω",
"–≥–æ–ª—É–±—å","–≥–æ–º—Ñ–æ–∑","–≥–æ–Ω—á–∞–∫","–≥—Ä–µ–±–ª—è","–¥–∞—Ä–æ–≥–∞","–¥–∞—É—Ä–∫–∞","–¥–µ—Ä–≥–µ–º","–¥–µ—Ç–¥–æ–º","–¥–∏–∞–ª–µ—Ä","–¥–æ–º–∫–æ–º",
"–¥—Ä–∏–æ–Ω–∞","–∂—ë—Ä–Ω–æ–≤","–∑–∞–¥–∞—á–∞","–∑–µ—Å—Ç–µ—Ä","–∏–±–∏–∫–æ–Ω","–∏–Ω–æ–≤–µ—Ä","–∏–æ–º—É–¥—ã","–∫–∞–ª–µ–Ω–æ","–∫–∞–ª–∏–±—Ä","–∫–∞—Ä–∞–∏–º",
"–∫–∞—á–µ–ª–∏","–∫–∏—à–ª–∞–∫","–∫–ª–∏–µ–Ω—Ç","–∫–æ–ª–ª–∞—Ä","–∫–æ–Ω–¥—ë—Ä","–∫–æ—Ä–∑–Ω–æ","–∫–æ—Ä—Ä–µ–¥","–∫–æ—Å—É–ª—è","–∫—Ä—ã—Ç—å–µ","–∫—Ä—é—à–æ–Ω",
"–∫—É–¥–µ–ª—å","–ª–∞–≤–¥–∞–Ω","–ª–µ–∫–∫–∞–∂","–ª–µ—Ç—Ä–∏–Ω","–º–∞—Ä–∫—ë—Ä","–º–µ—Å—Å—É—Ä","–º–µ—Ö—Ü–µ—Ö","–º–æ–≥–æ–ª—å","–º–æ—Ä–æ–∏—Ç","–º–æ—Ä—Ñ–æ–∑",
"–º—É–∑–µ—É–º","–º—É—Ä–∞–ª—å","–Ω–∞—Ç—É–≥–∞","–æ—Ä–º—É–∑–¥","–ø–∞–∂–∏–∑–º","–ø–∏—Ä–∏–Ω–≥","–ø–æ–¥–≤–æ–¥","–ø–æ–¥–∑–æ—Ä","–ø—Ä–æ–¥–æ—Ä","–ø—Ä–æ–Ω–æ—è",
"—Ä–∞–∑–º—ë—Ç","—Ä–µ–∑–µ—Ä–≤","—Ä–µ–∑—á–∏–∫","—Ä–µ–π–Ω–µ—Ü","—Ä—è–±–∏–Ω–∞","—Å–∞–¥–∏—Å—Ç","—Å–∞—Ç–æ—Ä–∏","—Å–≤–∏—Ç–æ–∫","—Å–µ—Å—Ç–µ—Ä","—Å–∏—Ç–∫–æ–º",
"—Å–Ω–µ—Ç–æ–∫","—Å—É—Ä–Ω–∞–π","—Å—Ö–µ–º–∫–∞","—Ç–∞–±–ª–∏–Ω","—Ç–∞–º—Ç–∞–º","—Ç–∞–ø–∏—Ä–æ","—Ç–æ–º–∏—â–µ","—Ç—Ä–µ–ø–ª–æ","—Ç—é—Ä—è–≥–∞","—É—Ç—é–∂–∫–∞",
"—Ñ–ª–æ—ç–º–∞","—Ñ—É—Ä–¥–∏—Ç","—Ö–∞–ª–∞–≤–∞","—Ö–∏–ª–ª–∏—Ç","—á–µ–¥–¥–µ—Ä","—à–∞—Å—Å–µ—Ä","—à–∫–≤–∞—Ä–∞","—ç–ø–∏—Ç–∏–ø","—ç—Ç–∞–∑–æ–ª","—ç—Ç–æ–ª–æ–≥","—é–Ω–æ—Ñ–æ–±"
];

const startScreen = document.getElementById('startScreen');
const gameScreen = document.getElementById('gameScreen');
const modeTitle = document.getElementById('modeTitle');
const resultEl = document.getElementById('result');
const wordEl = document.getElementById('word');
const historyEl = document.getElementById('history');
const copyBtn = document.getElementById('copyBtn');
const minInput = document.getElementById('minInput');
const maxInput = document.getElementById('maxInput');

function startGame(mode) {
    startScreen.style.display = 'none';
    gameScreen.style.display = 'block';
    modeTitle.textContent = mode;
}

function backToModes() {
    resetGame();
    gameScreen.style.display = 'none';
    startScreen.style.display = 'block';
}

function getKey(min, max) {
    return `used_${min}_${max}`;
}

function generate() {
    const min = +minInput.value;
    const max = +maxInput.value;
    if (min < 1 || max > 100 || min >= max) return;

    let used = JSON.parse(sessionStorage.getItem(getKey(min, max))) || [];
    if (used.length >= (max - min + 1)) return;

    let num;
    do {
        num = Math.floor(Math.random() * (max - min + 1)) + min;
    } while (used.includes(num));

    used.push(num);
    sessionStorage.setItem(getKey(min, max), JSON.stringify(used));

    resultEl.textContent = num;
    wordEl.textContent = words[num - 1];
    copyBtn.style.display = 'inline';

    renderHistory(used);
}

function renderHistory(arr) {
    historyEl.innerHTML = '';
    arr.forEach(n => {
        const s = document.createElement('span');
        s.textContent = n;
        historyEl.appendChild(s);
    });

    // üî• –ê–í–¢–û–ü–†–û–ö–†–£–¢–ö–ê –í–ù–ò–ó
    historyEl.scrollTop = historyEl.scrollHeight;
}

function resetGame() {
    sessionStorage.clear();
    resultEl.textContent = '‚Äî';
    wordEl.textContent = '';
    historyEl.innerHTML = '';
    copyBtn.style.display = 'none';
}

function copyWord() {
    if (!wordEl.textContent) return;
    navigator.clipboard.writeText(wordEl.textContent);
    copyBtn.textContent = '‚úì';
    setTimeout(() => copyBtn.textContent = 'üìã', 1000);
}
</script>

</body>
</html>
